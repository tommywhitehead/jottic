{"version":3,"file":"get-character.cjs","sources":["../../../../src/primitives/slate/utils/get-character.ts"],"sourcesContent":["import type { Location as SlateLocation } from \"slate\";\nimport { Editor as SlateEditor, Range as SlateRange } from \"slate\";\n\ninterface Options {\n  filterVoids?: boolean;\n}\n\nexport function getCharacterBefore<T extends SlateEditor>(\n  editor: T,\n  at: SlateLocation,\n  options: Options = {}\n) {\n  const { filterVoids } = options;\n  const before = SlateEditor.before(editor, at, {\n    unit: \"character\",\n    voids: filterVoids,\n  });\n\n  if (before) {\n    const range = SlateEditor.range(\n      editor,\n      before,\n      SlateRange.isRange(at) ? SlateRange.start(at) : at\n    );\n    const text = SlateEditor.string(editor, range);\n\n    return {\n      range,\n      text,\n      void: text.length === 0,\n    };\n  }\n\n  return;\n}\n\nexport function getCharacterAfter<T extends SlateEditor>(\n  editor: T,\n  at: SlateLocation,\n  options: Options = {}\n) {\n  const { filterVoids } = options;\n  const after = SlateEditor.after(editor, at, {\n    unit: \"character\",\n    voids: filterVoids,\n  });\n\n  if (after) {\n    const range = SlateEditor.range(\n      editor,\n      after,\n      SlateRange.isRange(at) ? SlateRange.end(at) : at\n    );\n    const text = SlateEditor.string(editor, range);\n\n    return {\n      range,\n      text,\n      void: text.length === 0,\n    };\n  }\n\n  return;\n}\n"],"names":["SlateEditor","SlateRange"],"mappings":";;;;AAOO,SAAS,kBACd,CAAA,MAAA,EACA,EACA,EAAA,OAAA,GAAmB,EACnB,EAAA;AACA,EAAM,MAAA,EAAE,aAAgB,GAAA,OAAA,CAAA;AACxB,EAAA,MAAM,MAAS,GAAAA,YAAA,CAAY,MAAO,CAAA,MAAA,EAAQ,EAAI,EAAA;AAAA,IAC5C,IAAM,EAAA,WAAA;AAAA,IACN,KAAO,EAAA,WAAA;AAAA,GACR,CAAA,CAAA;AAED,EAAA,IAAI,MAAQ,EAAA;AACV,IAAA,MAAM,QAAQA,YAAY,CAAA,KAAA;AAAA,MACxB,MAAA;AAAA,MACA,MAAA;AAAA,MACAC,YAAW,OAAQ,CAAA,EAAE,IAAIA,WAAW,CAAA,KAAA,CAAM,EAAE,CAAI,GAAA,EAAA;AAAA,KAClD,CAAA;AACA,IAAA,MAAM,IAAO,GAAAD,YAAA,CAAY,MAAO,CAAA,MAAA,EAAQ,KAAK,CAAA,CAAA;AAE7C,IAAO,OAAA;AAAA,MACL,KAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA,EAAM,KAAK,MAAW,KAAA,CAAA;AAAA,KACxB,CAAA;AAAA,GACF;AAEA,EAAA,OAAA;AACF,CAAA;AAEO,SAAS,iBACd,CAAA,MAAA,EACA,EACA,EAAA,OAAA,GAAmB,EACnB,EAAA;AACA,EAAM,MAAA,EAAE,aAAgB,GAAA,OAAA,CAAA;AACxB,EAAA,MAAM,KAAQ,GAAAA,YAAA,CAAY,KAAM,CAAA,MAAA,EAAQ,EAAI,EAAA;AAAA,IAC1C,IAAM,EAAA,WAAA;AAAA,IACN,KAAO,EAAA,WAAA;AAAA,GACR,CAAA,CAAA;AAED,EAAA,IAAI,KAAO,EAAA;AACT,IAAA,MAAM,QAAQA,YAAY,CAAA,KAAA;AAAA,MACxB,MAAA;AAAA,MACA,KAAA;AAAA,MACAC,YAAW,OAAQ,CAAA,EAAE,IAAIA,WAAW,CAAA,GAAA,CAAI,EAAE,CAAI,GAAA,EAAA;AAAA,KAChD,CAAA;AACA,IAAA,MAAM,IAAO,GAAAD,YAAA,CAAY,MAAO,CAAA,MAAA,EAAQ,KAAK,CAAA,CAAA;AAE7C,IAAO,OAAA;AAAA,MACL,KAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA,EAAM,KAAK,MAAW,KAAA,CAAA;AAAA,KACxB,CAAA;AAAA,GACF;AAEA,EAAA,OAAA;AACF;;;;;"}